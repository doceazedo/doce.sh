<script lang="ts">
  import { onMount } from 'svelte';
  import { sleep } from '$lib/utils';

  export let showDoce = false;
  export let showAzedo = false;
  export let enableTransitions = true;
  export let color = 'var(--primary)';

  let showLogo = false;

  onMount(async () => {
    if (!enableTransitions) {
      showLogo = true;
      showDoce = true;
      showAzedo = true;
      return;
    }

    await sleep(100);
    showLogo = true;
    await sleep(1);
    showDoce = true;
    await sleep(100);
    showAzedo = true;
  });
</script>

<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 314.05 113.79"
  class:hide={!showLogo}
  class:is-animated={enableTransitions}
  fill={color}
>
  <path
    class:hide={!showDoce}
    d="M34.18 0a33.12 33.12 0 0 1 11.13 1.73 22.41 22.41 0 0 1 8.2 4.97 21.05 21.05 0 0 1 5.08 7.85 29.37 29.37 0 0 1 1.73 10.37v.07a29.14 29.14 0 0 1-1.73 10.3 21.03 21.03 0 0 1-5.07 7.85 22.41 22.41 0 0 1-8.21 4.96 33.12 33.12 0 0 1-11.13 1.73H0V0ZM11.02 39.6h23.16q7.56 0 11.38-3.92t3.82-10.7v-.07q0-6.84-3.82-10.76t-11.38-3.93H11.02ZM65.7 24.91v-.07a25.69 25.69 0 0 1 1.8-9.83 22.2 22.2 0 0 1 5.21-8.06 23.04 23.04 0 0 1 8.36-5.15A32.53 32.53 0 0 1 92.27 0h7.17a32.54 32.54 0 0 1 11.2 1.8A23.05 23.05 0 0 1 119 6.95a22.2 22.2 0 0 1 5.23 8.06 25.72 25.72 0 0 1 1.8 9.83v.07a29.4 29.4 0 0 1-1.8 10.55 22.2 22.2 0 0 1-5.22 8.06 23.05 23.05 0 0 1-8.36 5.15 32.52 32.52 0 0 1-11.2 1.8h-7.18a32.51 32.51 0 0 1-11.2-1.8 23.04 23.04 0 0 1-8.35-5.15 22.19 22.19 0 0 1-5.22-8.06 29.36 29.36 0 0 1-1.8-10.55Zm10.94 0q0 7.06 4.03 11.27t11.6 4.21h7.17q7.64 0 11.63-4.21t4-11.27v-.07a14.04 14.04 0 0 0-4-10.55q-4-4.21-11.63-4.21h-7.18q-7.56 0-11.6 4.21a13.97 13.97 0 0 0-4.02 10.55ZM0 88.88v-.07a25.7 25.7 0 0 1 1.8-9.83 22.18 22.18 0 0 1 5.22-8.06 23.04 23.04 0 0 1 8.35-5.15 32.53 32.53 0 0 1 11.2-1.8h10.37a37.1 37.1 0 0 1 10.65 1.4 21.6 21.6 0 0 1 8.35 4.72l-6.26 8.06a14.9 14.9 0 0 0-5.65-3.17 24.8 24.8 0 0 0-7.1-.93H26.58a18.34 18.34 0 0 0-6.59 1.11 13.3 13.3 0 0 0-4.9 3.17 14.3 14.3 0 0 0-3.06 4.86 13.97 13.97 0 0 0-1.08 5.62v.07a14.24 14.24 0 0 0 4.14 10.59q4.07 4.24 11.48 4.24h10.38a23.79 23.79 0 0 0 7.34-1 14.73 14.73 0 0 0 5.4-3.1l6.26 8.06a21.29 21.29 0 0 1-8.1 4.68 36.57 36.57 0 0 1-10.9 1.44H26.57a32.51 32.51 0 0 1-11.2-1.8 23.04 23.04 0 0 1-8.35-5.14 22.17 22.17 0 0 1-5.22-8.07 25.9 25.9 0 0 1-1.8-9.9ZM124.4 63.97v9.86H79.7v10.3h40.23v9.65H79.7v10.08h44.7v9.94H68.54V63.97Z"
  />
  <path
    class:hide={!showAzedo}
    d="M160.97 0h1.22l28.23 49.83h-1.44l-8.35-14.84h-38.1l-8.42 14.84h-1.44Zm18.93 33.77L161.62 1.44l-18.44 32.33ZM256.11 1.22l-55.23 46.52-.79.86h56.02v1.22h-57.74V48.6l56.08-47.38h-56.08V0h57.74ZM190.25 63.97v1.22H133.8v23.33h54.29v1.23H133.8v22.82h56.45v1.22H132.5V63.97ZM230.48 63.97a31.5 31.5 0 0 1 10.8 1.73 21.3 21.3 0 0 1 13.07 12.78 28.55 28.55 0 0 1 1.76 10.33v.07a28.83 28.83 0 0 1-1.76 10.37 21.23 21.23 0 0 1-13.07 12.81 31.47 31.47 0 0 1-10.8 1.73h-32.11V63.97Zm-30.82 48.6h30.82a28.8 28.8 0 0 0 10.19-1.7 21.67 21.67 0 0 0 7.63-4.74 20.6 20.6 0 0 0 4.82-7.46 27.07 27.07 0 0 0 1.7-9.79v-.07a26.78 26.78 0 0 0-1.7-9.76 20.69 20.69 0 0 0-4.82-7.41 21.67 21.67 0 0 0-7.63-4.75 28.81 28.81 0 0 0-10.2-1.7h-30.8ZM289.2 113.8h-.06q-12.75 0-18.83-7.13t-6.09-22.1V29.22q0-14.97 6.09-22.1T289.14 0h.07Q301.95 0 308 7.13t6.05 22.1v55.33q0 14.98-6.05 22.1t-18.8 7.13Zm0-1.37q12.18 0 17.86-6.74t5.7-21.13V29.23q0-14.4-5.7-21.13t-17.85-6.73h-.07q-12.17 0-17.9 6.73t-5.72 21.13v55.33q0 14.4 5.72 21.13t17.9 6.74Z"
  />
</svg>

<style lang="sass">
  svg
    overflow: visible

    &.hide
      display: none

    &.is-animated
      transition: all .2s ease .2s

      path
        transition: all .2s ease

    path.hide
      opacity: 0

      &:first-child
        transform: translateY(-18px)

      &:last-child
        transform: translateY(18px)
</style>
